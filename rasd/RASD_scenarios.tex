\section{Use cases identification}
\subsection{Scenarios}
Here are some scenarios that describe the usage of the system.
\subsubsection{Scenario 1}
\label{scenario:1}
Francesco wants to have a beer with his friend Vincenzo so Francesco logs in to system and searches for cars nearby. He notices that there are two cars available next to his house, he decides to reserve the one with more battery and after few minutes he reaches it. He starts to drive until he reaches Vincenzo's house, Vincenzo gets into the car and they arrive to the beer house where they terminate the rent.

\subsubsection{Scenario 2}
\label{scenario:2}
Mirjana has been told by her friend Elisa that a new car sharing service is available in their city and so she decided to give it a try as she wants to go shopping in the city center. She registers to the system providing all information requested, she inserts the destination address and enables the money saving option. She is provided by the system with a charging station not far from the shopping center and, as it is a sunny day, she decided to take that location as destination in order to achieve a discount and reach the shopping center on foot. 

\subsubsection{Scenario 3}
\label{scenario:3}
Giovanni is really interested in electric cars so he decides to use the PowerEnJoy system. He wants to go to the museum in the afternoon so he reserves a car. After one hour he is \todo{is he notified?}notified by the system that his reservation is expired and he is charged of a 1\euro\ fee. When he is ready to exit his house he notices that the same car is still available so he reserves it again, reaches it and starts driving. When he arrives at the destination he sees a charging station next to the museum so he decides to leave the car there plugging the charging cable in order to get a discount.

\newpage\subsection{Use case diagram}
\begin{figure}[h]
			\centering
			\includegraphics[width=0.9\textwidth]{useCase}
			\caption{
				\label{fig:useCase} 
				Use case diagram
			}
		\end{figure}
\subsection{Use cases description}
\begin{tabular}{p{0.25\linewidth}p{0.75\linewidth}}
\toprule
\textbf{Name} & Authentication \\
\midrule
\textbf{Actors} &  Registered user \\
\midrule
\textbf{Entry conditions} & The user must know his username and password \\
\midrule
\textbf{Flow of events} & 
\begin{itemize}
	\item The user inserts his username and password in the appropriate form and submit it
	\item The system validates the inserted credential
	\item The system checks if the user is banned
\end{itemize} \\
\midrule
\textbf{Exit conditions} & If the credential validation is successful the user is not banned he is granted the proper privileges\\
\midrule
\textbf{Exceptions} & 
\begin{itemize}
	\item If the credential validation failed an error message is displayed
	\item If the credential validation is successful and the user is banned a message providing assistance is displayed
\end{itemize} \\
\bottomrule
\end{tabular}

\begin{tabular}{p{0.25\linewidth}p{0.75\linewidth}}
\toprule
\textbf{Name} & Car reservation \\
\midrule
\textbf{Actors} &  Registered user \\
\midrule
\textbf{Entry conditions} & The user must be logged in. \\
\midrule
\textbf{Flow of events} & 
\begin{itemize}
	\item The user chooses if he wants to use his GPS position or insert a different one manually
		\subitem - The system retrieves the user's  GPS position
		\subitem - The user inserts a position
	\item The system retrieves the position of all available cars
	\item The system shows a map with all available cars near the position indicated by the user
	\item The user selects a car he wants to reserve
	\item The system show the user informations about car battery percentage
	\item The user confirms he wants to reserve that car
\end{itemize} \\
\midrule
\textbf{Exit conditions} & The system set the state of the car as \emph{Reserved} paired with the user who made the reservation\\
\midrule
\textbf{Exceptions} & 
\begin{itemize}
	\item If the position inserted by the user is not correct an error message is displayed
	\item If the user doesn't want to reserve a car he can leave at anytime
\end{itemize} \\
\bottomrule
\end{tabular}